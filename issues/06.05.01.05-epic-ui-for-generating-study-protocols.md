---
title: "Epic: UI for Generating Study Protocols"
type: "Epic"
parent: "06.05.01-initiative-dataset-generation-ui.md"
state: "backlog"
labels:
  - "protocol-generation"
  - "ui"
assignees: []
---

### Description

Develop a user interface that allows users to generate draft study protocol documents. This will provide a UI for the existing `protocol generate` CLI command.

### Proposed Implementation

1.  **Refactor CLI:** Refactor the `protocol generate` command. Extract the core logic into a reusable function.
2.  **Add API Endpoint:** Create a new `POST /api/generate-protocol` endpoint. It should accept parameters like `therapeutic_area`, `treatment_arms`, `duration_weeks`, and `phase`.
3.  **Update Frontend Form:** Add a new form to the UI with fields for these parameters. `treatment_arms` can be a comma-separated text input.
4.  **Update Frontend Script:** Add JavaScript to handle the form submission and API call.
5.  **Add Tests:** Add a new unit test for the API endpoint.

### Acceptance Criteria

- A user can see a "Generate Study Protocol" section in the web UI.
- The form contains fields for Therapeutic Area, Treatment Arms, Study Duration, and Phase.
- A user can fill out the form and click "Generate".
- After generation, the UI shows a confirmation message with the path to the generated protocol documents.
- The generated files (`protocol.md`, `gantt_chart.png`) are saved in a subdirectory within `output/ui_generated_data`.
- The existing `protocol generate` CLI command continues to function correctly.
